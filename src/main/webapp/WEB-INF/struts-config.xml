<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE struts-config PUBLIC
        "-//Apache Software Foundation//DTD Struts Configuration 1.2//EN"
        "http://jakarta.apache.org/struts/dtds/struts-config_1_2.dtd">

<struts-config>

    <!-- ================================================ Form Bean Definitions -->

    <form-beans>
        <!--<form-bean name="jobPostingForm"-->
        <!--type="org.ajug.webtier.forms.JobPostingForm"/>-->
        <form-bean name="AddEditJobPostingForm"
                   type="org.apache.struts.validator.DynaValidatorForm">
            <form-property name="id" type="java.lang.String"/>
            <form-property name="businessName" type="java.lang.String"/>
            <form-property name="businessLocation" type="java.lang.String"/>
            <form-property name="jobTitle" type="java.lang.String"/>
            <form-property name="salary" type="java.lang.Double"/>
            <form-property name="description" type="java.lang.String"/>
            <form-property name="website" type="java.lang.String"/>
            <form-property name="businessAddress1" type="java.lang.String"/>
            <form-property name="businessAddress2" type="java.lang.String"/>
            <form-property name="businessCity" type="java.lang.String"/>
            <form-property name="businessState" type="java.lang.String"/>
            <form-property name="businessZip" type="java.lang.String"/>
            <form-property name="businessPhone" type="java.lang.String"/>
            <form-property name="businessEmail" type="java.lang.String"/>
            <form-property name="industry" type="java.lang.String"/>
            <form-property name="jobRestrictions" type="java.lang.String"/>
        </form-bean>

        <form-bean name="EditListJobPostingForm"
                   type="org.apache.struts.validator.LazyValidatorForm">
            <form-property name="delete" type="java.lang.Long[]" />
        </form-bean>

         <form-bean name="UserListForm"
                   type="org.apache.struts.validator.LazyValidatorForm">
            <form-property name="delete" type="java.lang.String[]" />
        </form-bean>

        <form-bean name="jobPostingFormDelete"
                   type="org.jrecruiter.webtier.forms.JobPostingForm"/>

        <form-bean name="EmailPasswordForm"
                   type="org.apache.struts.validator.DynaValidatorForm">
            <form-property name="username" type="java.lang.String"/>
        </form-bean>
        <form-bean name="UserForm"
                   type="org.apache.struts.validator.DynaValidatorForm">
            <form-property name="username" type="java.lang.String"/>
            <form-property name="password" type="java.lang.String"/>
            <form-property name="password2" type="java.lang.String"/>
            <form-property name="firstName" type="java.lang.String"/>
            <form-property name="lastName" type="java.lang.String"/>
            <form-property name="company" type="java.lang.String"/>
            <form-property name="phone" type="java.lang.String"/>
            <form-property name="fax" type="java.lang.String"/>
            <form-property name="email" type="java.lang.String"/>
            <form-property name="update" type="java.lang.Boolean"/>
            <form-property name="registerDateDF" type="java.lang.String"/>
            <form-property name="updateDateDF" type="java.lang.String"/>
        </form-bean>

        <form-bean name="SettingsForm"
                   type="org.apache.struts.validator.DynaValidatorForm">
            <form-property name="mailingListEmail" type="java.lang.String"/>
            <form-property name="mailFrom" type="java.lang.String"/>
            <form-property name="mailingListSubject" type="java.lang.String"/>
            <form-property name="mailingListTemplate" type="java.lang.String"/>
            <form-property name="passwordSubject" type="java.lang.String"/>
            <form-property name="passwordTemplate" type="java.lang.String"/>
        </form-bean>

        <form-bean name="JobSearchForm"
                   type="org.apache.struts.validator.DynaValidatorForm">
            <form-property name="keyword" type="java.lang.String"/>
        </form-bean>
    </form-beans>


    <!-- ========================================= Global Exception Definitions -->

    <global-exceptions>
    <exception
        handler="org.jrecruiter.webtier.GeneralExceptionHandler"
        key="exception.unknown"
        path="/pages/error/unknown.jsp"
        scope="request"
        type="java.lang.Throwable"/>
    </global-exceptions>


    <!-- =========================================== Global Forward Definitions -->

    <global-forwards>
        <forward name="sessionTimeout" path="/login.do"/>
    </global-forwards>


    <!-- =========================================== Action Mapping Definitions -->

    <action-mappings>
        <action path="/emailPassword" name="EmailPasswordForm"
                input="/pages/user/forgotYourPassword.jsp"
                validate="true"
                scope="request"
                type="org.jrecruiter.webtier.actions.EmailPasswordAction">
            <forward name="success" path="/pages/user/sentPassword.jsp"/>
            <forward name="cancel" path="/welcome.html"/>
        </action>

        <action path="/addUser" name="UserForm"
                input="/pages/user/user.jsp"
                validate="false"
                scope="request"
                type="org.apache.struts.actions.ForwardAction"
                parameter="/pages/user/user.jsp">
        </action>

        <action path="/editUser"
            name="UserForm"
      input="/pages/user/user.jsp"
            validate="false"
            scope="request"
      type="org.jrecruiter.webtier.actions.EditUserAction">
      <forward name="success" path="/pages/user/user.jsp" redirect="true"/>
      <forward name="cancel" path="/admin/admin.html" redirect="true"/>
    </action>

        <action path="/userSubmit"
            name="UserForm"
      input="/pages/user/user.jsp"
            validate="true"
            scope="request"
            parameter="dispatch"
            type="org.jrecruiter.webtier.actions.SubmitUserAction">
      <forward name="successAdd" path="/welcome.html" />
      <forward name="successEdit" path="/admin/admin.html" />
      <forward name="error" path="/pages/user/user.jsp" />
      <forward name="cancel" path="/welcome.html" redirect="true"/>
      <forward name="cancelToAdmin" path="/admin/admin.html" redirect="true"/>
    </action>

         <action path="/userList"
            name="UserListForm"
            input="/pages/user/userList.jsp"
            validate="false"
            scope="request"
            type="org.jrecruiter.webtier.actions.UserListAction">
            <forward name="success" path="/pages/user/userList.jsp"/>
            <forward name="cancel" path="/admin/admin.html" redirect="false"/>
            <forward name="ajax" path="/pages/user/userListTable.jsp"/>
        </action>

        <action path="/deleteUser"
            name="UserListForm"
            input="/pages/user/userList.jsp"
            validate="false"
            scope="request"
            type="org.jrecruiter.webtier.actions.DeleteUserAction">
            <forward name="success" path="/userList.do" redirect="true"/>
            <forward name="cancel" path="/admin/admin.html" redirect="true"/>
        </action>

        <action path="/searchJobs" name="JobSearchForm"
                input="/showJobs.do"
                validate="false"
                scope="request"
                type="org.jrecruiter.webtier.actions.JobSearchAction">
            <forward name="success" path="/pages/jobs.jsp"/>
        </action>



        <action path="/openAddJobPosting"
                name="AddEditJobPostingForm"
                validate="false"
                scope="request"
                type="org.jrecruiter.webtier.actions.JobPostingAction"
                parameter="method">
            <forward name="success" path="/pages/admin/addjobposting.jsp"/>
        </action>

        <action path="/addJobPosting"
                name="AddEditJobPostingForm"
                input="/openAddJobPosting.do?method=openAddJobPosting"
                validate="true"
                scope="request"
                type="org.jrecruiter.webtier.actions.JobPostingAction"
                parameter="method">
            <forward name="success" path="/admin/admin.html"/>
            <forward name="cancel" path="/admin/admin.html" redirect="false"/>
        </action>

        <action path="/deleteJobPosting"
                name="EditListJobPostingForm"
                input="/openEditJobPosting.do?method=openEditJobPosting"
                validate="false" scope="request"
                type="org.jrecruiter.webtier.actions.JobPostingAction"
                parameter="method">
            <forward name="showJobList" path="/pages/admin/joblist.jsp"/>
            <forward name="success" path="/openEditJobPosting.do?method=listJobPostings" redirect="true"/>
            <forward name="cancel" path="/admin/admin.html" redirect="true"/>
        </action>

        <action path="/openEditJobPostingList"
                scope="request"
                type="org.apache.struts.actions.ForwardAction"
                parameter="/openEditJobPosting.do?method=listJobPostings">
        </action>

        <action path="/openEditJobPosting"
                name="AddEditJobPostingForm"
                validate="false"
                scope="request"
                type="org.jrecruiter.webtier.actions.JobPostingAction"
                parameter="method">

            <forward name="showJobList" path="/pages/admin/joblist.jsp"/>
            <forward name="success" path="/pages/admin/editjobposting.jsp"/>
            <forward name="ajax" path="/pages/admin/joblistTable.jsp"/>
        </action>


        <action path="/editJobPosting"
                name="AddEditJobPostingForm"
                input="/openEditJobPosting.do?method=openEditJobPosting"
                validate="true"
                scope="request"
                type="org.jrecruiter.webtier.actions.JobPostingAction"
                parameter="method">
            <forward name="success" path="/admin/admin.html" redirect="true"/>
            <forward name="cancel" path="/openEditJobPosting.do?method=listJobPostings" redirect="true"/>
        </action>

        <action path="/editSettings"
                name="SettingsForm"
                input="/editSettings.do?method=openEditSettings"
                validate="true"
                scope="request"
                type="org.jrecruiter.webtier.actions.SettingsAction"
                parameter="method">
            <forward name="success" path="/admin/admin.html" redirect="false"/>
            <forward name="openEditSuccess" path="/pages/admin/editSettings.jsp"/>
            <forward name="cancel" path="/admin/admin.html" redirect="false"/>
        </action>

        <action path="/showStatistics"
                type="org.jrecruiter.webtier.actions.StatisticsAction"
                parameter="method">
                <forward name="success" path="/pages/admin/showStatistics.jsp" redirect="false"/>
                <forward name="ajax" path="/pages/admin/showStatisticsTable.jsp"/>
        </action>

    </action-mappings>

    <!-- ============================================= Controller Configuration -->

    <controller processorClass="org.apache.struts.action.RequestProcessor"/>

    <!-- ======================================== Message Resources Definitions -->

    <message-resources parameter="messageResources"/>


    <!-- =============================================== Plug Ins Configuration -->
    <!-- =================================================== Validator plugin -->

    <plug-in className="org.apache.struts.validator.ValidatorPlugIn">
        <set-property property="pathnames"
                      value="/WEB-INF/validator-rules.xml,/WEB-INF/validation.xml"/>
    </plug-in>

</struts-config>

